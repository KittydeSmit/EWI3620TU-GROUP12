package Reader;

import Visualiser.Editor.*;
import java.io.*;
import java.util.*;

public class ReadWorld {
	
	private String file;
	private Scanner read;
	private World world;
	
	public World readWorld(String filename) throws IOException{
		file = filename;
		int dim = 0;
		String name = "";
		
		try{
			read = new Scanner(new File(file));
			name = read.next();
			dim = read.nextInt();
		}catch(FileNotFoundException excepzione){
			System.out.println("A file with the given name does not exist, please check the filename.");
			return null;
		}catch(NumberFormatException excepzione){
			System.out.println("The dimension of the level in the file is not represented by a number.");
			return null;
		}
		world = new World(dim, name);
		
		for(int i = 0; i < world.getDim(); i++){
			readMaze(world, read);
		}
		
		return world;
	}
	
	public void readMaze(World world, Scanner read) throws IOException{
		int dim = world.getDim();
		
		try{
			for(int hCoord = 0; hCoord < dim; hCoord++){
				for(int iCoord = 0; iCoord < dim; iCoord++){
					for(int jCoord = 0; jCoord < dim; jCoord++){
						world.level[hCoord].setMazeCoord(iCoord, jCoord, read.nextInt());
					}
				}
			}
		}catch(NumberFormatException excepzione){
			System.out.println("One or more of the entries in the maze part of your file is not a 1 or 0.");
			return;
		}
	}

}
